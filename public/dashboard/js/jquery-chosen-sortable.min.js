(function(b){b.fn.chosenOrder=function(){var a=this.filter(".chosen-sortable[multiple]").first(),c=a.siblings(".chosen-container");return b(c.find('.chosen-choices li[class!="search-field"]').map(function(){if(this)return a.find("option:contains("+b(this).text()+")")[0]}))};b.fn.chosenSortable=function(){this.filter(".chosen-sortable[multiple]").each(function(){var a=b(this),c=a.siblings(".chosen-container");c.find(".chosen-choices").bind("mousedown",function(d){b(d.target).is("span")&&d.stopPropagation()});
c.find(".chosen-choices").sortable({placeholder:"ui-state-highlight",items:"li:not(.search-field)",tolerance:"pointer"});a.closest("form").on("submit",function(){var d=a.chosenOrder();a.children().remove();a.append(d)})})}})(jQuery);